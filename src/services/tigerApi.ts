import { request } from 'ice';
import { getSignParams,  ApiUrl } from '../utils';

export default {
  async getSection(params) {
    let data = await request({
      url: `${ApiUrl}/api/slot/section`,
      method: 'get',
      params,
      headers: getSignParams()
    });
    // data = {"code":1,"message":"حسنا","data":{"rule":"<p class='MsoNormal' align='justify' style='text-align:justify;'>1. يختار اللاعب أولا كمية الرقائق للمراهنة على رهان واحد من أسفل اليسار ، ثم يختار عنصرا للمراهنة عليه في الأعلى ، وينقر على GO بعد التحديد لبدء اللعبة. إذا لم يكن هناك رهان ، فلا يمكن بدء اللعبة.</p><p class='MsoNormal' align='justify' style='text-align:justify;'> </p><p class='MsoNormal' align='justify' style='text-align:justify;'>2. أسفل منطقة اللعبة المربعة توجد منطقة الرهان. تسرد منطقة الرهان عناصر مختلفة واحتمالات المقابلة لها (على سبيل المثال ، احتمالات تفاحة كبيرة هي 5 ، واحتمالات تفاحة صغيرة x3 هي 3 ، وما إلى ذلك ، الأجانب. كل نقرة تضيف 1 رقاقة ، ويتم وضع حد أقصى لكل عنصر في 999.</p><p class='MsoNormal' align='justify' style='text-align:justify;'> </p><p class='MsoNormal' align='justify' style='text-align:justify;'>3. يمكن للاعبين النقر فوق الزر 'يسار<span>←</span><span>' أو 'يمين</span><span>→</span><span>' لتخمين اليسار واليمين. إذا كان التخمين صحيحا ، فسيفوز اللاعب بنفس المبلغ الذي يفوز به اللاعب في منطقة 'المبلغ الفائز'. يتم أخذ اليسار واليمين كخط وسط بين x100 الكوني و 77 الكبير. إذا انتهى بك الأمر في x100 الكوني و 77 الكبير ، تفويت اليسار واليمين. إذا اختار اللاعب اليسار وراهن على 100KC ، وبقي الدوران النهائي على أي نمط على يسار الكون x100 و 77 الكبير ، فسوف تفوز بالجائزة ، يمكنك الفوز ب 200KC (بما في ذلك الرهان 100KC).</span></p><p class='MsoNormal' align='justify' style='text-align:justify;'> </p><p class='MsoNormal' align='justify' style='text-align:justify;'>4. الجدول الإلكتروني على يسار منطقة اللعبة المربعة هو مساحة المبلغ الفائز في الجولة الحالية ، والجانب الأيمن هو منطقة رصيد KC للمحفظة. يمكن للسجلات الاستعلام عن أحدث 10 سجلات في اليوم.</p><p class='MsoNormal' align='justify' style='text-align:justify;'> </p><p class='MsoNormal' align='justify' style='text-align:justify;'>5. يحتفظ BiuBiuClub بكل الحق في تفسي</p>","balance":130,"user_code":"00000000","user_id":1113044,"reward":[{"id":82,"name":"太空人","multiple":100,"show_img":"https://cdn.biubiuclub.com/684dabe0a3774266cb64acb68a7a6575/63274676/upload/betitems/431b23e6c4ccac2365a2a7e14eed2766.webp"},{"id":81,"name":"77","multiple":40,"show_img":"https://cdn.biubiuclub.com/acb6e57b6d16d6da9ec92114c9c7e613/63274676/upload/betitems/5ac1ea95212082ababef69699f540da9.webp"},{"id":80,"name":"双星","multiple":30,"show_img":"https://cdn.biubiuclub.com/8d0ae1ac421570833f9283e09b54800e/63274676/upload/betitems/1b72d6fd4c49c6caada2de67fd70cde9.webp"},{"id":79,"name":"西瓜","multiple":20,"show_img":"https://cdn.biubiuclub.com/2772e93ad44edbf48a85c82ce06e26da/63274676/upload/betitems/207fc83f55524500bae89eb48a866b68.webp"},{"id":78,"name":"铜钟","multiple":15,"show_img":"https://cdn.biubiuclub.com/80b67b9bd1a4661ff7b28e2ba823947f/63274676/upload/betitems/2ffdb63fd7efaee3fc5c324f81e04d3e.webp"},{"id":77,"name":"柠檬","multiple":10,"show_img":"https://cdn.biubiuclub.com/04b0366dc059f734a4e79a95e15ce642/63274676/upload/betitems/8c5aa5ccbd91196ae0621722542f6331.webp"},{"id":76,"name":"橘子","multiple":10,"show_img":"https://cdn.biubiuclub.com/c68afa7983622fad9727ae217f4c1bb9/63274676/upload/betitems/4e57b6626f30efd4c747911ef288578d.webp"},{"id":75,"name":"苹果","multiple":5,"show_img":"https://cdn.biubiuclub.com/6c2f86cd34ce14fa2a094192c92cba7d/63274676/upload/betitems/410f59189cda020b457c076a13890931.webp"}],"bets":[{"id":57,"bet_name":"5钻","num":5},{"id":58,"bet_name":"10钻","num":10},{"id":59,"bet_name":"50钻","num":50}],"win_reward":[{"id":48,"name":"太空人x100","multiple":100,"show_img":"https://cdn.biubiuclub.com/1bae0168d9828216b433b143417023e9/63274676/upload/betitems/b1702273e138951208df241d07d067c6.webp","bet_item_id":82,"location":"middle","rand_rate":"0.05"},{"id":47,"name":"苹果-右一","multiple":0,"show_img":"https://cdn.biubiuclub.com/6c2f86cd34ce14fa2a094192c92cba7d/63274676/upload/betitems/410f59189cda020b457c076a13890931.webp","bet_item_id":75,"location":"right","rand_rate":"20.00"},{"id":46,"name":"苹果x3","multiple":3,"show_img":"https://cdn.biubiuclub.com/b0a9be046620e35ce372f34cb2360b66/63274676/upload/betitems/c7cfcb1668287a043f03809da59b9cbb.webp","bet_item_id":75,"location":"right","rand_rate":"45.00"},{"id":45,"name":"柠檬-右三","multiple":0,"show_img":"https://cdn.biubiuclub.com/04b0366dc059f734a4e79a95e15ce642/63274676/upload/betitems/8c5aa5ccbd91196ae0621722542f6331.webp","bet_item_id":77,"location":"right","rand_rate":"15.00"},{"id":44,"name":"西瓜-右四","multiple":0,"show_img":"https://cdn.biubiuclub.com/2772e93ad44edbf48a85c82ce06e26da/63274676/upload/betitems/207fc83f55524500bae89eb48a866b68.webp","bet_item_id":79,"location":"right","rand_rate":"3.50"},{"id":43,"name":"西瓜x3","multiple":3,"show_img":"https://cdn.biubiuclub.com/2c173dbada20e4f41cf71a99447b8bf5/63274676/upload/betitems/5783c9867cad7b96175d7f37faf865b1.webp","bet_item_id":79,"location":"right","rand_rate":"45.00"},{"id":42,"name":"外星人-右六","multiple":0,"show_img":"https://cdn.biubiuclub.com/f6612686eb0e0ab6276f0660835cce12/63274676/upload/betitems/ea65c289cb8e4fb474d4ee6ac78c320f.webp","bet_item_id":0,"location":"right","rand_rate":"10.00"},{"id":41,"name":"苹果-右七","multiple":0,"show_img":"https://cdn.biubiuclub.com/6c2f86cd34ce14fa2a094192c92cba7d/63274676/upload/betitems/410f59189cda020b457c076a13890931.webp","bet_item_id":75,"location":"right","rand_rate":"20.00"},{"id":40,"name":"橘子x3","multiple":3,"show_img":"https://cdn.biubiuclub.com/f46519afb0eaf157118b4635d6b4ab24/63274676/upload/betitems/4e57e37c7bca8264ed1b96361905f34c.webp","bet_item_id":76,"location":"right","rand_rate":"45.00"},{"id":39,"name":"橘子-右九","multiple":0,"show_img":"https://cdn.biubiuclub.com/c68afa7983622fad9727ae217f4c1bb9/63274676/upload/betitems/4e57b6626f30efd4c747911ef288578d.webp","bet_item_id":76,"location":"right","rand_rate":"15.00"},{"id":38,"name":"铜钟-右十","multiple":0,"show_img":"https://cdn.biubiuclub.com/80b67b9bd1a4661ff7b28e2ba823947f/63274676/upload/betitems/2ffdb63fd7efaee3fc5c324f81e04d3e.webp","bet_item_id":78,"location":"right","rand_rate":"10.00"},{"id":37,"name":"77x3","multiple":3,"show_img":"https://cdn.biubiuclub.com/795190ca36f36c3f125fd0206f15ed72/63274676/upload/betitems/26d7dac5f1e6ab34a594f8d0aad6214c.webp","bet_item_id":81,"location":"right","rand_rate":"45.00"},{"id":36,"name":"77-中","multiple":0,"show_img":"https://cdn.biubiuclub.com/acb6e57b6d16d6da9ec92114c9c7e613/63274676/upload/betitems/5ac1ea95212082ababef69699f540da9.webp","bet_item_id":81,"location":"middle","rand_rate":"2.50"},{"id":35,"name":"苹果-左一","multiple":0,"show_img":"https://cdn.biubiuclub.com/6c2f86cd34ce14fa2a094192c92cba7d/63274676/upload/betitems/410f59189cda020b457c076a13890931.webp","bet_item_id":75,"location":"left","rand_rate":"20.00"},{"id":34,"name":"柠檬x3","multiple":3,"show_img":"https://cdn.biubiuclub.com/e87e3fd75c9bdffa64c8177548282f66/63274676/upload/betitems/fdbcfd99e5b802122b79aada7f063cb7.webp","bet_item_id":77,"location":"left","rand_rate":"45.00"},{"id":33,"name":"柠檬-左三","multiple":0,"show_img":"https://cdn.biubiuclub.com/04b0366dc059f734a4e79a95e15ce642/63274676/upload/betitems/8c5aa5ccbd91196ae0621722542f6331.webp","bet_item_id":77,"location":"left","rand_rate":"15.00"},{"id":32,"name":"双星-左四","multiple":0,"show_img":"https://cdn.biubiuclub.com/8d0ae1ac421570833f9283e09b54800e/63274676/upload/betitems/1b72d6fd4c49c6caada2de67fd70cde9.webp","bet_item_id":80,"location":"left","rand_rate":"5.00"},{"id":31,"name":"双星x3","multiple":3,"show_img":"https://cdn.biubiuclub.com/e28f7acea4d9691ffe7a500210ff5a0b/63274676/upload/betitems/5bb18c86e4954b326ac34d0eff2d87aa.webp","bet_item_id":80,"location":"left","rand_rate":"45.00"},{"id":30,"name":"外星人-左六","multiple":0,"show_img":"https://cdn.biubiuclub.com/f6612686eb0e0ab6276f0660835cce12/63274676/upload/betitems/ea65c289cb8e4fb474d4ee6ac78c320f.webp","bet_item_id":0,"location":"left","rand_rate":"10.00"},{"id":29,"name":"苹果-左七","multiple":0,"show_img":"https://cdn.biubiuclub.com/6c2f86cd34ce14fa2a094192c92cba7d/63274676/upload/betitems/410f59189cda020b457c076a13890931.webp","bet_item_id":75,"location":"left","rand_rate":"20.00"},{"id":28,"name":"铜钟x3","multiple":3,"show_img":"https://cdn.biubiuclub.com/787cebd08e4886caa3bc7bafc8c8ade9/63274676/upload/betitems/60bee1a9f141fc26006378a26bb92fa7.webp","bet_item_id":78,"location":"left","rand_rate":"45.00"},{"id":27,"name":"橘子-左九","multiple":0,"show_img":"https://cdn.biubiuclub.com/c68afa7983622fad9727ae217f4c1bb9/63274676/upload/betitems/4e57b6626f30efd4c747911ef288578d.webp","bet_item_id":76,"location":"left","rand_rate":"15.00"},{"id":26,"name":"铜钟-左十","multiple":0,"show_img":"https://cdn.biubiuclub.com/80b67b9bd1a4661ff7b28e2ba823947f/63274676/upload/betitems/2ffdb63fd7efaee3fc5c324f81e04d3e.webp","bet_item_id":78,"location":"left","rand_rate":"10.00"},{"id":25,"name":"太空人x50","multiple":50,"show_img":"https://cdn.biubiuclub.com/8f81a8e5ae686895d62fc2b10bda68d9/63274676/upload/betitems/5429051e1e2f912d1523394d097960d2.webp","bet_item_id":82,"location":"left","rand_rate":"0.10"}]}}
    let temp = {
      ...data,
      data: {
        ...data.data,
        win_reward: data.data.win_reward.map((item, index) => {
          return {
            ...item,
            tempId: index + 1
          }
        })

      }
    };

    return temp.data;
  },

  // 开奖记录
  async getRecords() {
    const { data } = await request({ url: `${ApiUrl}/api/slot/records`,  method: 'post', headers: getSignParams() });
    return data.rows.map(item => {
      return {
        ...item,
        moment_profit: Number(item.moment_profit)
      }
    }) || []
  }
}
